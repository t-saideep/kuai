Kuai
=====

A Distributed Model Checker for Software-defined Networks.

Requires the following modules to run:

* Python
* [Pystache](https://github.com/defunkt/pystache)
* PReach: Regular [PReach](https://bitbucket.org/jderick/preach/wiki/Home) will not be able to run the files generated by our tool. This is because we extended the Murphi syntax to iterate over Multisets and fixed a few bugs. Instead, use our [modified PReach version](https://github.com/zilongwang/Preach-for-kuai)

Running:

1. Generate Murphi file from network and controller descriptions in folder `config_folder`

  ```
  python kuai.py config_folder > output.m
  ```

  Example:

  ```
  python kuai.py ssh2 > output.m
  ```

  This will generate the files to model check ssh2 example.

1. Run the output file using PReach.

Some experiments have more than one topology that you can try out. For example there are `topology.2`, `topology.3` and `topology.4` in `firewall_openflow_multiple/` for different number of firewalls. You can copy one of them into `firewall_openflow_multiple/topology` to run that topology or use the `select_topology` script to do that for you:

  ```
  python select_topology.py firewall_openflow_multiple 3
  ```

This will select `topology.3`. After that follow steps 1 and 2 above.
